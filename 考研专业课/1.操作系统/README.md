# 操作系统

* [计算机系统概述](#计算机系统概述)
* [进程管理](#进程管理)
* [内存管理](#内存管理)
* [文件管理]
* [输入输出管理](#输入输出管理)

## 计算机系统概述

![计算机系统概述](1.计算机系统概述.png)

> 设计现代操作系统的主要目标是什么？

答：有效性、方便性、可扩充性、开放性。

> 操作系统的作用可表现在哪几个方面？

答：OS 作为用户与计算机硬件系统之间的接口， OS 作为计算机系统资源的管理者，OS 实现了对计算机资源的抽象。

> 为什么说操作系统实现了对计算机资源的抽象？

答：OS 首先在裸机上覆盖一层 I/O 设备管理软件，实现了对计算机硬件操作的第一层次抽象；在第一层软件上再覆盖文件管理软件，实现了对硬件资源操作的第二层次抽象。 OS 通过在计算机硬件上安装多层系统软件，增强了系统功能，隐藏了对硬件操作的细节，由它们共同实现了对计算机资源的抽象。

> 试说明推动多道批处理系统形成和发展的主要动力是什么。

答：主要动力来源于四个方面的社会需求与技术发展：不断提高计算机资源的利用率、方便用户、器件的不断更新换代、计算机体系结构的不断发展。

> 何谓脱机 I/O 和联机 I/O ？

答：脱机 I/O 是指事先将装有用户程序和数据的纸带或卡片装入纸带输入机或卡片机，在外围机的控制下，把纸带或卡片上的数据或程序输入到磁带上，该方式下的输入输出由外围机控制完成，是在脱离主机的情况下进行的；而联机 I/O 方式是指程序和数据的输入输出都是在主机的直接控制下进行的。

> 试说明推动分时系统形成和发展的主要动力是什么？

答：推动分时系统形成和发展的主要动力是更好地满足用户的需要，主要表现在： CPU 的分时使用缩短了作业的平均周转时间、人机交互能力使用户能直接控制自己的作业、主机的共享使多用户能同时使用同一台计算机，独立地处理自己的作业。

> 实现分时系统的关键问题是什么？应如何解决？

答：关键问题是当用户在自己的终端上键入命令时，系统应能及时接收并及时处理该命令，并在用户能接受的时延内将结果返回给用户。解决方法：针对及时接收问题，可以在系统中设置多路卡，使主机能同时接收用户从各个终端上输入的数据，并为每个终端配置缓冲区，暂存用户键入的命令或数据。针对及时处理问题，应使所有的用户作业都直接进入内存，并且为每个作业分配一个时间片，允许作业只在自己的时间片内运行，这样在不长的时间内，能使每个作业都运行一次。

> 为什么要引入实时操作系统？

答：实时操作系统是指系统能及时响应外部事件的请求，在规定的时间内完成对该事件的处理，并控制所有实时任务协调一致地运行。引入实时 OS 是为了满足应用的需求，更好地满足实时控制领域和实时信息处理领域的需要。

> 什么是硬实时任务和软实时任务？试举例说明。

答：硬实时任务是指系统必须满足任务对截止时间的要求，否则可能出现难以预测的结果，举例来说，运载火箭的控制等。软实时任务是指它的截止时间并不严格，偶尔错过了任务的截止时间，对系统产生的影响不大，举例来说，网页内容的更新、火车售票系统等。

> 试从交互性、及时性以及可靠性方面将分时系统与实时系统进行比较。

答：（1）及时性：实时信息处理系统对实时性的要求与分时系统类似，都是以人所能接受的等待时间来确定，而实时控制系统的及时性，是以控制对象所要求的开始截止时间或完成截止时间来确定的，一般为秒级到毫秒级，甚至有的要低于 100 微秒。（2）交互性：实时信息处理系统具有交互性，但人与系统的交互仅限于访问系统中某些特定的专用服务程序，不像分时系统那样能向终端用户提供数据和资源共享等服务。（3）可靠性：分时系统也要求系统可靠，但相比之下，实时系统则要求系统具有高度的可靠性，因为任何差错都可能带来巨大的经济损失，甚至是灾难性后果，所以在实时系统中，往往都采取了多级容错措施保障系统的安全性及数据的安全性。

> 操作系统有哪几大特征？其最基本的特征是什么？

答：并发性、共享性、虚拟性和异步性四个基本特征，最基本的特征是并发性。

> 在多道程序技术的操作系统环境下的资源共享与一般情况下的资源共享有何不同？对独占资源应采取何种共享方式？

答：一般情况下的共享与操作系统环境下的共享其含义并不完全相同，前者只是说明某种资源能被大家使用，如图书馆中的图书能提供给大家借阅，但并未限定借阅者必须在同一时间（间隔）和同一地点阅读，又如，学校中的计算机机房供全校学生上机，或者说，全校学生共享该机房中的计算机设备，虽然所有班级的上机地点是相同的，但各班的上机时间并不相同，对于这样的资源共享方式，只要通过适当的安排，用户之间并不会产生对资源的竞争，因此资源管理是比较简单的。而在 OS 环境下的资源共享或称为资源复用，是指系统中的资源可供内存中多个并发执行的进程共同使用，这里在宏观上既限定了时间（进程在内存期间），也限定了地点（内存），对于这种资源共享方式，其管理就要复杂得多，因为系统中的资源少于多道程序需求的总和，会形成它们对共享资源的争夺，所以，系统必须对资源共享进行妥善管理。对独占资源应采用互斥共享方式。

> 什么是时分复用技术？举例说明它能提高资源利用率的根本原因是什么。

答：将资源在不同的时间片内分配给各进程以使该资源被重复利用，从而提高资源的利用率，如采用时分复用技术的虚拟处理机，能够在不同的时间片内处理多个用户的请求，从而使得用户感觉自已独占主机，而处理机在这期间也被充分的利用。

> 是什么原因使操作系统具有异步性特征？

答：操作系统的异步性体现在三个方面：一是进程的异步性，进程以人们不可预知的速度向前推进；二是程序的不可再现性，即程序执行的结果有时是不确定的；三是程序执行时间的不可预知性，即每个程序何时执行、执行顺序以及完成时间是不确定的。

> 处理机管理有哪些主要功能？其主要任务是什么？

答：处理机管理的主要功能是：进程管理、进程同步、进程通信和处理机调度。进程管理：为作业创建进程，撤销已结束进程，控制进程在运行过程中的状态转换。进程同步：为多个进程（含线程）的运行进行协调。进程通信：用来实现在相互合作的进程之间的信息交换。处理机调度：（1）作业调度。从后备队列里按照一定的算法，选出若干个作业，为他们分配运行所需的资源（首选是分配内存）。（2）进程调度：从进程的就绪队列中，按照一定算法选出一个进程，把处理机分配给它，并设置运行现场，使进程投入执行。

> 内存管理有哪些主要功能？其主要任务是什么？

答：内存管理的主要功能有：内存分配、内存保护、地址映射和内存扩充。内存分配：为每道程序分配内存。内存保护：确保每道用户程序都只在自己的内存空间运行，彼此互不干扰。地址映射：将地址空间的逻辑地址转换为内存空间对应的物理地址。内存扩充：用于实现请求调用功能，置换功能等。

> 设备管理有哪些主要功能？其主要任务是什么？

答：主要功能有：缓冲管理、设备分配和设备处理以及虚拟设备等。主要任务：完成用户提出的 I/O 请求，为用户分配 I/O 设备，提高 CPU 和 I/O 设备的利用率，提高 I/O 速度以及方便用户使用 I/O 设备。

> 文件管理有哪些主要功能？其主要任务是什么？

答：文件管理主要功能：文件存储空间的管理、目录管理、文件的读/写管理和保护。文件管理的主要任务：管理用户文件和系统文件，方便用户使用，保证文件安全性。

> 试说明推动传统操作系统演变为现代操作系统的主要因素是什么？

答：系统安全、网络的功能和服务、支持多媒体。

> 什么是微内核操作系统？

答：足够小的内核、基于客户/服务器模式、应用机制与策略分离原理、采用面向对象技术。

> 微内核操作系统具有哪些优点？它为何能有这些优点？

答：提高了系统的可扩展性，增强了系统的可靠性，可移植性，提供了对分布式系统的支持，融入了面向对象技术。

> 现代操作系统较之传统操作系统又增加了哪些功能和特征？

答：进程（线程）管理，低级存储器管理，中断和陷入处理。

> 在微内核操作系统中，为什么要采用客户/服务器模式？

答： C/S 模式具有独特的优点：数据的分布处理和存储，便于集中管理，灵活性和可扩充性，易于改编应用软件。

> 在基于微内核结构的操作系统中，应用了哪些新技术？

答：在基于微内核结构的 OS 中，采用面向对象的程序设计技术。

> 何谓微内核技术？在微内核中通常提供了哪些功能？

答：把操作系统中更多的成分和功能放到更高的层次（即用户模式）中去运行，而留下一个尽量小的内核，用它来完成操作系统最基本的核心功能，称这种技术为微内核技术。在微内核中通常提供了进程（线程）管理、低级存储器管理、中断和陷入处理等功能。

## 进程管理

![进程管理](2.进程管理.png)

> 为什么程序并发执行会产生间断性特征？

答：程序在并发执行时，由于它们共享系统资源，为完成同一项任务需要相互合作，致使这些并发执行的进程之间，形成了相互制约关系，从而使得进程在执行期间出现间断性。

> 程序并发执行时为什么会失去封闭性和可再现性？

答：程序并发执行时，多个程序共享系统中的各种资源，因而这些资源的状态由多个程序改变，致使程序运行失去了封闭性，也会导致其失去可再现性。

> 在操作系统中为什么要引入进程的概念？它会产生什么样的影响？

答：为了使程序在多道程序环境下能并发执行，并对并发执行的程序加以控制和描述，在操作系统中引入了进程概念。影响：使程序的并发执行得以实行。

> 试从动态性、并发性和独立性上比较进程和程序。

答：（1）动态性是进程最基本的特性，表现为由创建而产生，由调度而执行，因得不到资源而暂停执行，由撤销而消亡，进程有一定的生命期，而程序只是一
组有序的指令集合，是静态实体。（2）并发性是进程的重要特征，同时也是 OS 的重要特征，引入进程的目的正是为了使其程序能和其它进程的程序并发执行，而程序是不能并发执行的。（3）独立性是指进程实体是一个能独立运行的基本单位，也是系统中独立获得资源和独立调度的基本单位，对于未建立任何进程的程序，不能作为独立单位参加运行。

> 试说明 PCB 的作用具体表现在哪几个方面？为什么说 PCB 是进程存在的唯一标志？

答： PCB 是进程实体的一部分，是操作系统中最重要的记录型数据结构，作用是使一个在多道程序环境下不能独立运行的程序，成为一个能独立运行的基本单位，成为能与其它进程并发执行的进程， OS 是根据 PCB 对并发执行的进程进行控制和管理的。

> PCB 提供了进程管理和进程调度所需要的哪些信息？

答：进程管理：通用寄存器、指令计数器、程序状态字、用户栈指针。进程调度：进程状态、进程优先级、事件、其他信息。

> 进程控制块的组织方式有哪几种？

答：线性方式、链接方式、索引方式。

> 何谓操作系统内核？内核的主要功能是什么？

答：现代操作系统一般将 OS 划分为若干层次，再将 OS 的不同功能分别设置在不同的层次中，通常将一些与硬件紧密相关的模块（如中断处理程序等）、各种常用设备的驱动程序以及运行频率较高的模块（如时钟管理、进程调度和许多模块所公用的一些基本操作），都安排在紧靠硬件的软件层次中，将它们常驻内存，即通常被称为的 OS 内核。支撑功能：中断处理、时钟管理、原语操作。资源管理功能：进程管理、存储器管理、设备管理。

> 试说明进程在三个基本状态之间转换的典型原因。

答：（1）就绪状态→执行状态：进程分配到 CPU 资源。（2）执行状态→就绪状态：时间片用完。（3）执行状态→阻塞状态： I/O 请求。（4）阻塞状态→就绪状态： I/O 完成。

> 为什么要引入挂起状态？该状态有哪些性质？

答：引入挂起状态处于五种不同的需要：终端用户需要、父进程需要、操作系统需要、对换需要和负荷调节需要，处于挂起状态的进程不能接收处理机调度。

> 在进行进程切换时，所要保存的处理机状态信息有哪些？

答：（1）进程当前暂存信息。（2）下一指令地址信息。（3）进程状态信息。（4）过程和系统调用参数及调用地址信息。

> 试说明引起进程创建的主要事件。

答：引起进程创建的主要事件有：用户登录、作业调度、提供服务、应用请求。

> 试说明引起进程被撤销的主要事件。

答：引起进程被撤销的主要事件有：正常结束、异常结束（越界错误、保护错、非法指令、特权指令错、运行超时、等待超时、算术运算错、 I/O 故障）、外界干预（操作员或操作系统干预、父进程请求、父进程终止）。

> 在创建一个进程时所要完成的主要工作是什么？

答：（1） OS 发现请求创建新进程事件后，调用进程创建原语 Creat() ；（2）申请空白 PCB ；（3）为新进程分配资源；（4）初始化进程控制块；（5）将新进程插入就绪队列。

> 在撤销一个进程时所要完成的主要工作是什么？

答：（1）根据被终止进程标识符，从 PCB 集中检索出进程 PCB，读出该进程状态；（2）若被终止进程处于执行状态，立即终止该进程的执行，置调度标志真，
指示该进程被终止后重新调度；（3）若该进程还有子进程，应将所有子孙进程终止，以防它们成为不可控进程；（4）将被终止进程拥有的全部资源，归还给父进程，或归还给系统；（5）将被终止进程 PCB 从所在队列或列表中移出，等待其它程序搜集信息。

> 试说明引起进程阻塞或被唤醒的主要事件是什么？

答：（1）请求系统服务；（2）启动某种操作；（3）新数据尚未到达；（4）无新工作可做。

> 为什么要在操作系统中引入线程？

答：在操作系统中引入线程，则是为了减少程序在并发执行时所付出的时空开销，使 OS 具有更好的并发性，提高 CPU 的利用率。进程是分配资源的基本单位，而线程则是系统调度的基本单位。

> 试说明线程具有哪些属性？

答：（1）轻型实体；（2）独立调度和分派的基本单位；（3）可并发执行；（4）共享进程资源。

> 试从调度性、并发性、拥有资源及系统开销方面对进程和线程进行比较。

答：（1）调度性。线程在 OS 中作为调度和分派的基本单位，进程只作为资源拥有的基本单位。（2）并发性。进程可以并发执行，一个进程的多个线程也可并发执行。（3）拥有资源。进程始终是拥有资源的基本单位，线程只拥有运行时必不可少的资源，本身基本不拥有系统资源，但可以访问隶属进程的资源。（4）系统开销。操作系统在创建、撤消和切换进程时付出的开销显著大于线程。

> 何谓用户级线程和内核支持线程？

答：（1）用户级线程：仅存在于用户空间中的线程，无须内核支持，这种线程的创建、撤销、线程间的同步与通信等功能，都无需利用系统调用实现，用户级线程的切换通常发生在一个应用进程的诸多线程之间，同样无需内核支持。（2）内核支持线程：在内核支持下运行的线程，无论是用户进程中的线程还是系统线程中的线程，其创建、撤销和切换等都是依靠内核，在内核空间中实现的，在内核空间里还为每个内核支持线程设置了线程控制块，内核根据该控制块感知某线程的存在并实施控制。

> 试说明内核支持线程的实现方法。

答：系统在创建新进程时，分配一个任务数据区 PTDA ，其中包括若干个线程控制块 TCB 空间。创建一个线程分配一个 TCB ，有关信息写入 TCB ，为之分配必要的资源。当 PTDA 中的 TCB 用完，而进程又有新线程时，只要所创建的线程数目未超过系统允许值，系统可再为之分配新的 TCB 。在撤销一个线程时，也应回收线程的所有资源和 TCB 。

> 多线程模型有哪几种类型？多对一模型有何优缺点？

答：多对一模型、一对一模型和多对多模型。多对一模型的主要缺点在于如果一个线程在访问内核时发生阻塞，则整个进程都会被阻塞，此外，在任一时刻，只有一个线程能够访问内核，多个线程不能同时在多个处理机上运行。

> 高级调度与低级调度的主要任务是什么？为什么要引入中级调度？

答：高级调度的主要任务是根据某种算法，把外存上处于后备队列中的那些作业调入内存。低级调度是保存处理机的现场信息，按某种算法选取进程，再把处理器分配给进程。引入中级调度的主要目的是为了提高内存利用率和系统吞吐量，使那些暂时不能运行的进程不再占用内存资源，将它们调至外存等待，把进程状态改为就绪驻外存状态或挂起状态。

> 处理机调度算法的共同目标是什么？批处理系统的调度目标又是什么？

答：共同目标：资源利用率、公平性、平衡性、策略强制执行。批处理系统的调度目标：平均周转时间短、系统吞吐量高、处理机利用率高。

> 何谓作业、作业步和作业流？

答：作业包含通常的程序和数据，还配有作业说明书，系统根据该说明书对程序的运行进行控制，批处理系统中是以作业为基本单位从外存调入内存。作业步是指每个作业运行期间都必须经过若干个相对独立相互关联的顺序加工的步骤。作业流是指若干个作业进入系统后依次存放在外存上形成的输入作业流，在操作系统的控制下，逐个作业进行处理，于是形成了处理作业流。

> 在什么情况下需要使用作业控制块 JCB ，其中包含了哪些内容？

答：每当作业进入系统时，系统便为每个作业建立一个作业控制块 JCB ，根据作业类型将它插入到相应的后备队列中。 JCB 包含的内容通常有：作业标识、用户名称、用户账户、作业类型（ CPU 繁忙型、 I/O 繁忙型、批量型、终端型）、作业状态、调度信息（优先级、作业已运行）、资源要求、进入系统时间、开始处理时间、作业完成时间、作业退出时间、资源使用情况等。

> 在作业调度中应如何确定接纳多少个作业和接纳哪些作业？

答：作业调度每次接纳进入内存的作业数，取决于多道程序。应将哪些作业从外存调入内存，取决于采用的调度算法。最简单的是先来服务调度算法，较常用的是短作业优先调度算法和基于作业优先级的调度算法。

> 试说明低级调度的主要功能。

答：（1）保存处理机的现场信息；（2）按某种算法选取进程；（3）把处理机分配给进程。

> 在抢占调度方式中，抢占的原则是什么？

答：抢占的原则有：时间片原则、优先权原则、短作业优先权原则等。

> 在选择调度方式和调度算法时，应遵循的准则是什么？

答：（1）面向用户的准则：周转时间短、响应时间快、截止时间的保证、优先权准则。（2）面向系统的准则：系统吞吐量高、处理机利用率好、各类资源的平衡利用。

> 在批处理系统、分时系统和实时系统中，各采取哪几种进程（作业）调度算法？

答：批处理系统的调度算法：短作业优先、优先权、高响应比优先、多级反馈队列调度算法。分时系统的调度算法：时间片轮转法。实时系统的调度算法：最早截止时间优先即 EDF 、最低松驰度优先即 LLF 算法。

> 何谓静态和动态优先级？确定静态优先级的依据是什么？

答：静态优先级是指在创建进程时确定且在进程的整个运行期间保持不变的优先级。动态优先级是指在创建进程时赋予的优先权，可以随进程推进或随其等待时间增加而改变的优先级，可以获得更好的调度性能。确定静态优先级的依据：进程类型、进程对资源的需求和用户要求。

> 试比较 FCFS 和 SJF 两种进程调度算法。

答：相同点：两种调度算法都可以用于作业调度和进程调度。不同点： FCFS 调度算法每次都从后备队列中选择一个或多个最先进入该队列的作业，将它们调入内存、分配资源、创建进程、插入到就绪队列。该算法有利于长作业/进程，不利于短作业/进程； SPF 算法每次调度都从后备队列中选择一个或若干个估计运行时间最短的作业，调入内存中运行，该算法有利于短作业/进程，不利于长作业/进程。

> 在时间片轮转法中，应如何确定时间片的大小？

答：时间片应略大于一次典型的交互需要的时间。一般应考虑三个因素：系统对相应时间的要求、就绪队列中进程的数目和系统的处理能力。

> 通过一个例子来说明通常的优先级调度算法为什么不能适用于实时系统？

答：实时系统的调度算法很多，主要是基于任务的开始截止时间和任务紧急/松驰程度的任务优先级调度算法，通常的优先级调度算法不能满足实时系统的调度实时性要求而不适用。

> 为什么说多级反馈队列调度算法能较好地满足各方面用户的需要？

答：终端型用户：由于终端型用户提交的作业多属于交互型作业，通常较小，系统只要能使这些作业在第一队列规定的时间片内完成，便可使终端型用户感到满
意。短批处理作业用户：对于这类作业，如果可在第一队列中执行完成，便获得与终端型作业一样的响应时间；对于稍长的短作业，也只需在第二和第三队列各执行一时间片完成，其周转时间仍然较短。长批处理作业用户：对于长作业，它将依次在第 1 , 2 ，… , n 个队列中运行然后再按轮转方式运行，用户不必担心其作业长期得不到处理。

> 为什么说传统的几种调度算法都不能算是公平调度算法？

答：以上介绍的几种调度算法所保证的只是优先运行，如优先级算法是优先级最高的作业优先运行，但并不保证作业占用了多少处理机时间，另外也未考虑到调度的公平性。

> 保证调度算法是如何做到调度的公平性的？

答：保证调度算法是另外一种类型的调度算法，它向用户所做出的保证并不是优先运行，而是明确的性能保证，该算法可以做到调度的公平性。一种比较容易实现的性能保证是处理机分配的公平性，如果在系统中有 n 个相同类型的进程同时运行，为公平起见，须保证每个进程都获得相同的处理机时间 1/n 。

> 公平分享调度算法又是如何做到调度的公平性的？

答：在公平分享调度算法中，调度的公平性主要是针对用户而言，使所有用户能获得相同的处理机时间，或所要求的时间比例。

> 为什么在实时系统中，要求系统（尤其是 CPU ）具有较强的处理能力？

答：在实时系统中，不但包括周期任务、偶发任务、非周期任务，还包括非实时任务，实时任务要求满足时限，而非实时任务要求要使其响应时间尽可能的短，多种类型任务的混合，使系统的可调度性分析更加困难。实际上有些实时系统 CPU 处理能力并不强，比如一些嵌入式实时系统，这就要求系统尽量少做一些并发计算任务，留出足够冗余处理实时任务。

> 按调度方式可将实时调度算法分为哪几种？

答：按调度方式不同，可分为非抢占调度算法和抢占调度算法两种。

> 什么是最早截止时间优先调度算法？举例说明之。

答：根据任务的开始截止时间确定的任务优先级调度算法，截止时间越早则优先级越高。该算法要求在系统中保持一个实时任务就绪队列，该队列按各任务截止时间的先后排序。

> 什么是最低松弛度优先调度算法？举例说明之。

答：该算法是根据任务的紧急（或松驰）程度，来确定任务的优先级，任务的紧急程度越高，为该任务所赋予的优先级就越高，以使之优先执行。例如，一个任务在 200ms 内必须完成，而它本身所需的运行时间就有 100ms ，因此，调度程序必须在 100ms 之前调度执行，该任务的紧急程度（松驰程度）为100ms 。又如，另一任务在 400ms 内必须完成，它本身需要运行 150ms ，则其松弛程度为 250ms 。最早截止时间优先调度算法：任务要求的截止时间越早，其优先级就越高；最低松驰度优先调度算法：任务的紧急程度越高，其优先级就越高。

> 何谓“优先级倒置”现象，可采取什么方式来解决？

答：当前 OS 广泛采用优先级调度算法和抢占方式，然而在系统中存在着影响进程运行的资源而可能产生“优先级倒置”的现象，即高优先级进程（或线程）被低优先级进程（或线程）延迟或阻塞。

> 试分别说明可重用资源和可消耗资源的性质。

答：可重用性资源：每一个可重用性资源中的单元只能分配给一个进程使用，不允许多个进程共享，进程在使用可重用性资源时，须按照这样的顺序：请求资源、使用资源、释放资源，系统中每一类可重用性资源中的单元数目是相对固定的，进程在运行期间既不能创建也不能删除它。可消耗性资源：每一类可消耗性资源的单元数目在进程运行期间是可以不断变化的，有时它可以有许多，有时可能为 0 ，进程在运行过程中，可以不断创造可消耗性资源的单元，将它们放入该资源类的缓冲区中，以增加该资源类的单元数目，进程在运行过程中，可以请求若干个可消耗性资源单元，用于进程自己的消耗，不再将它们返回给该资源类中。

> 为了破坏“请求和保持”条件而提出了两种协议，试比较这两种协议。

答：第一种协议在所有进程开始运行之前，必须一次性地申请其在整个运行过程中所需的全部资源，并且在分配资源时，只要有一种资源不能满足进程的要求，即使其它所需的各种资源都空闲也不分配给该进程，而让该进程等待，因此有资源被严重浪费、进程经常会发生饥饿现象等缺点。第二种协议是对第一种协议的改进，它允许一个进程只获得运行初期所需的资源后，便开始运行，进程运行过程中再逐步释放已分配给自己的、且已用毕的全部资源，然后再请求新的所需资源，如此便可提高设备的利用率，还可减少进程发生饥饿的概率。

> 何谓死锁？产生死锁的原因和必要条件是什么？

答：（1）死锁是指多个进程因竞争资源而造成的一种僵局，若无外力作用，这些进程都将永远不能再向前推进；（2）产生死锁的原因有二，一是竞争资源，二是进程推进顺序非法；（3）必要条件是：互斥条件、请求和保持条件、不可剥夺条件和环路等待条件。

> 在解决死锁问题的几个方法中，哪种方法最易于实现？哪种方法使资源利用率最高？

答：解决/处理死锁的方法有预防死锁、避免死锁、检测和解除死锁，其中预防死锁方法最容易实现，但由于所施加的限制条件过于严格，会导致系统资源利用率和系统吞吐量降低，而检测和解除死锁方法可使系统获得较好的资源利用率和系统吞吐量。

> 请详细说明可通过哪些途径预防死锁。

答：（1）摒弃“请求和保持”条件：系统规定所有进程开始运行之前，都必须一次性地申请其在整个运行过程所需的全部资源，但在分配资源时，只要有一种资源不能满足某进程的要求，即使其它所需的各资源都空闲，也不分配给该进程，而让该进程等待；（2）摒弃“不可剥夺”条件：系统规定，进程是逐个地提出对资源的要求的，当一个已经保持了某些资源的进程，再提出新的资源请求而不能立即得到满足时，必须释放它已经保持了的所有资源，待以后需要时再重新申请；（3）摒弃“环路等待”条件：系统将所有资源按类型进行线性排序，并赋子不同的序号，且所有进程对资源的请求必须严格按序号递增的次序提出，这样，在所形成的资源分配图中，不可能再出现环路，因而摒弃了“环路等待”条件。

## 内存管理

![内存管理](3.内存管理.png)

> 为什么要配置层次式存储器？



> 可采用哪几种方式将程序装入内存？它们分别适用于何种场合？



> 何谓静态链接？静态链接时需要解决两个什么问题？



> 何谓装入时动态链接？装入时动态链接方式有何优点？



> 何谓运行时动态链接？运行时动态链接方式有何优点？



> 在动态分区分配方式中，应如何将各空闲分区链接成空闲分区链？



> 为什么要引入动态重定位？如何实现？



> 什么是基于顺序搜索的动态分区分配算法？它可分为哪几种？



> 在采用首次适应算法回收内存时，可能出现哪几种情况？应怎样处理这些情况？



> 什么是基于索引搜索的动态分区分配算法？它可分为哪几种？



> 分区存储管理中常用哪些分配策略？比较它们的优缺点。



> 为什么要引入对换？对换可分为哪几种类型？



> 对文件区管理的目标和对对换空间管理的目标有何不同？



> 为实现对换，系统应具备哪几方面的功能？



> 在以进程为单位进行对换时，每次是否都将整个进程换出？为什么？



> 基于离散分配时所用的基本单位不同，可将离散分配分为哪几种？



> 什么是页面？什么是物理块？页面的大小应如何确定？



> 什么是页表？页表的作用是什么？



> 为实现分页存储管理，需要哪些硬件支持？



> 在分页系统中是如何实现地址变换的？



> 具有快表时是如何实现地址变换的？



> 较详细地说明引入分段存储管理是为了满足用户哪几方面的需要。



> 在具有快表的段页式存储管理方式中，如何实现地址变换？



> 为什么说分段系统比分页系统更易于实现信息的共享和保护？



> 分页和分段存储管理有何区别？



> 试全面比较连续分配和离散分配方式。



> 常规存储器管理方式具有哪两大特征？它对系统性能有何影响？



> 什么是程序运行时的时间局限性和空间局限性？



> 虚拟存储器有哪些特征？其中最本质的特征是什么？



> 实现虛拟存储器需要哪些硬件支持？



> 实现虚拟存储器需要哪几个关键技术？



> 在请求分页系统中，页表应包括哪些数据项？每项的作用是什么？



> 试比较缺页中断机构与一般的中断，它们之间有何明显的区别？



> 试说明请求分页系统中的地址变换过程。



> 何谓固定分配局部置换和可变分配全局置换的内存分配策咯？



> 在请求分页系统中，应从何处将所需页面调入内存？



> 试说明在请求分页系统中页面的调入过程。



> 在请求分页系统中，常采用哪几种页面置换算法？



> 在一个请求分页系统中，采用 FIFO 页面置换算法时，假如一个作业的页面走向为 4、3、2、1、4、3、5、4、3、2、1、5，当分配给该作业的物理块数 M 分别为 3 和 4 时，试计算在访问过程中所发生的缺页次数和缺页率，并比较所得结果。



> 实现 LRU 算法所需的硬件支持是什么？



> 试说明改进型 Clock 置换算法的基本原理。



> 影响页面换进换出效率的若干因素是什么？



> 页面缓冲算法的主要特点是什么？它是如何降低页面换进、换出的频率的？



> 在请求分页系统中，产生“抖动”的原因是什么？



> 何谓工作集？它是基于什么原理确定的？



> 当前可以利用哪几种方法来防止“抖动”？



> 试说明如何利用 “L=S” 准则来调节缺页率，以避免“抖动”的发生。



> 为了实现请求分段式存储管理，应在系统中增加配置哪些硬件机构？



> 在请求段表机制中，应设置哪些段表项？



> 说明请求分段系统中的缺页中断处理过程。



> 请对共享段表中的各项作简要说明。



> 如何实现共享分段的分配和回收？



> 试述存储管理的基本功能。



> 什么是逻辑地址？什么是物理地址？



> 什么是地址转换？哪些方法可以实现地址转换？



> 什么是虚拟存储器？列举采用虚拟存储技术的必要性和可能性。



> 试讨论虚拟存储器容量与地址总线宽度、内存容量及外存容量之间的关系。



> 试述计算机系统中存储器的组织层次。为什么要配置层次式存储器？



> 什么是存储保护？ 在分区存储管理中如何实现分区的存储保护？



> 可交分区存储管理中常采用哪些分配策略？比较这些分配算法的优缺点。



> 在可变分区存储管理中，回收一个分区时有多种不同的邻接情况，试讨论各种情况的处理方法。



> 什么是移动技术？应在什么情况下采用这种技术？



> 在页式存储器中实现程序共享时，共享程序的页号是否一定要相同？为什么？



> 在页式存储管理中，决定页面大小的主要因素是什么？



> 试述页式虚拟存储管理的实现原理。



> 实现页式虚拟存储器必须要有哪些软硬件支撑？



> 试述缺页中断与一般中断之问的区别。



> 什么是抖动？试述抖动产生的主要原因。



> 在段式存储器中实现程序共享时，共享段的段号是否一定要相同？为什么？



> 试述段式虚拟存储管理的实现原理。



> 试述段页式虚拟存储管理的实现原理。



## 文件管理







> 何谓数据项、记录和文件？



> 文件系统的模型可分为三层，试说明其每一层所包含的基本内容。



> 与文件系统有关的软件可分为哪几个层次？



> 试说明用户可以对文件施加的主要操作有哪些。



> 为什么在大多数 OS 中都引入了“打开”的这一文件系统调用，打开的含义是什么？



> 何谓文件的逻辑结构？何谓文件的物理结构？



> 按文件的组织方式可将文件分为哪几种类型？



> 如何提高对变长记录顺序文件的检索速度？



> 通过哪两种方式来对固定长记录实现随机访问？



> 可以采取什么方法来实现对变长记录文件进行随机检索？



> 试说明索引顺序文件的几个主要特征。



> 试说明对索引文件和索引顺序文件的检索方法。



> 试从检索速度和存储费用两方面来比较两级索引文件和索引顺序文件。



> 对目录管理的主要要求是什么？



> 采用单级目录能否满足对目录管理的主要要求？为什么？



> 目前广泛采用的目录结构形式是哪种？它有什么优点？



> 何谓路径名和当前目录？



> Hash 检索法有何优点？又有何局限性？



> 在 Hash 检索法中，如何解决“冲突”问题？



> 试说明在树形目录结构中线性检索法的检索过程，并给出相应的流程图。



> 基于索引结点的文件共享方式有何优点？



> 什么是主父目录和链接父目录？如何利用符号链实现共享？



> 基于符号链的文件共享方式有何优点？



> 什么是保护域？进程与保护域之间存在着的动态联系是什么？



> 试举例说明具有域切换权的访问控制矩阵。



> 如何利用拷贝权来扩散某种访问权？



> 如何利用拥有权来增、删某种访问权？



> 增加控制权的主要目的是什么？试举例说明控制权的应用。



> 什么是访问控制表？什么是访问权限表？



> 系统如何利用访问控制表和访问权限表来实现对文件的保护？



> 分别给出卷、块、记录、文件的定义并说明它们之间的关系。



> 列举文件系统面向用户的主要功能。



> 什么是文件的逻辑结构？它有哪几种组织方式？



> 什么是文件的物理结构？它有哪几种组织方式？



> 什么是记录的成组和分解操作？采用这种技术有什么优点？



> 为了实现快速访问且易于更新的目标，当数据分别为以下形式时，应选用何种文件组织方式？（1）不经常更新,经常随机访问；（2）经常更新，按照一定的顺序访问；（3）经常更新，经常随机访问。



> 什么是直接文件？该类文件适用于哪些应用场景？



> 试述直接文件解决冲突问题的方法。



> 什么是按名存取？文件系统如何实现文件的按名存取？



> 常见的文件目录结构有哪些？试分别列举它们的优缺点。



> 什么是文件控制块（FCB）？



> 什么是文件目录？什么是目录文件？



> 试分别解释根目录、父目录、子目录以及当前目录的含义。



> 试分别解释文件路径名、绝对路径名和相对路径名的概念。



> 什么是文件共享？



> 文件系统提供的副本技术有哪些？试述各种方法的优缺点。



> 文件系统提供的系统调用有哪些？试述各自的主要功能。



> 试述打开文件及关闭文件的处理过程。



> 试述辅存文件空间的分配方法。



> 试述文件系统的层次结构及各层次的主要功能。



## 输入输出管理

![输入输出管理](5.输入输出管理.png)

> 试说明 I/O 系统的基本功能。



> 简要说明 I/O 软件的四个层次的基本功能。



> I/O 系统接口与软件/硬件（RW/HW）接口分别是什么接口？



> 与设备无关性的基本含义是什么？为什么要设置该层？



> 试说明设备控制器的组成。



> 为了实现 CPU 与设备控制器间的通信，设备控制器应具备哪些功能？



> 什么是内存映像 I/O ？它是如何实现的？



> 为什么说中断是 OS 赖以生存的基础？



> 对多中断源的两种处理方式分别用于何种场合？



> 设备中断处理程序通常需完成哪些工作？



> 简要说明中断处理程序对中断进行处理的几个步骤。



> 试说明设备驱动程序具有哪些特点。



> 设备驱动程序通常要完成哪些工作？



> 简要说明设备驱动程序的处理过程可分为哪几步。



> 试说明推动 I/O 控制发展的主要因素是什么。



> 有哪几种 I/O 控制方式？各适用于何种场合？



> 试说明 DMA 的工作流程。



> 为何要引入与设备的无关性？如何实现设备的独立性？



> 与设备的无关的软件中，包括了哪些公有操作的软件？



> 在考虑到设备的独立性时，应如何分配独占设备？



> 何谓设备虚拟？实现设备虛拟时所依赖的关键技术是什么？



> 在实现后台打印时， SPOOLing 系统应为请求 I/O 的进程提供哪些服务？



> 假脱机系统向用户提供共享打印机的基本思想是什么？



> 引入缓冲的主要原因是什么？



> 在单缓冲情况下，为什么系统对一块数据的处理时间为 max(C, T) + M ？



> 为什么在双缓冲情况下，系统对一块数据的处理时间为 max(T, C) ？



> 试说明收容输入工作缓冲区和提取输出工作缓冲区的工作情况。



> 何谓安全分配方式和不安全分配方式？



> 磁盘访问时间由哪几部分组成？每部分时间应如何计算？



> 目前常用的磁盘调度算法有哪几种？每种算法优先考怎的问题是什么？



> 试述设备管理的基本功能。



> I/O 设备可分为哪些类型？ 各类设备的物理特点是什么？



> 块设备文件和字符设备文件的本质区别是什么？



> I/O 控制方式可分为哪些类型？各类控制方式的优缺点有哪些？



> 试述采用直接存储器存取（DMA）方式实现 I/O 控制的工作原理。



> 大型机常常采用通道方式实现 I/O 控制，那么什么是通道？ 为什么要引入通道？



> 试述采用通道技术时 I/O 操作的全过程。



> 试述 I/O 软件的分层结构及各层次的主要功能。



> 为什么要引入缓冲技术？其基本思想是什么？



> 试述常用的缓冲技术。



> I/O 设备与 CPU 并行工作的基础是什么？



> 为什么要引入设备独立性？如何实现设备独立性？



> 什么是设备的静态分配？什么是设备的动态分配？



> 设备分配中有可能出现死锁吗？试说明原因。



> 什么是磁盘的驱动调度？目前常用的磁盘驱动调度算法有哪些？



> 什么是虚拟设备？实现虚拟设备的主要条件是什么？



> 什么是井？什么是输入井？什么是输出井？试述井管理程序的基本功能及工作原理。



> SPOOLing 系统是如何将独占型设备改造成共享型设备的？

